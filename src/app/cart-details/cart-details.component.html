<div class="ui-lg-12">
  <div class="ui-g">
    <div class="ui-lg-2"></div>
    <div class="ui-lg-6">
      <div class="ui-lg-12"><h2>Mon panier ({{items.length}} évènements)</h2></div>
      <div class="ui-g" *ngIf="isEmpty">
        <div class="ui-lg-4 ui-lg-nopad"></div>
        <div class="ui-lg-4 ui-lg-nopad">
          <h3>Votre panier est vide :(</h3>
        </div>
        <div class="ui-lg-4"></div>
      </div>
      <div class="ui-g" *ngIf="!isEmpty">
        <p-table [value]="items">
          <!-- <ng-template pTemplate="header">
              <tr>
                  <th>Votre selection</th>

                  <th>date</th>
                  <th>description</th>
                  <th>quantité</th>
                  <th>supprimer</th>
              </tr>
          </ng-template> -->
          <ng-template pTemplate="body" let-item>
              <tr>
                  <td>
                    <div class="ui-g">
                    <div class="ui-lg-2">
                        <img src="{{item.event.imgMin}}" width="100%">
                    </div>
                    <div class="ui-lg-8">
                      <div class="ui-g">
                        <div class="cart-details-name ui-lg-12">
                            <h3>{{item.event.name}}</h3>
                        </div>
                        <div class="cart-details-date ui-lg-12">
                            {{item.event.dateEvent | dateFr}} {{item.event.dateEvent | dateFrMonthEntire}}
                        </div>
                        <div class="cart-details-date ui-lg-12">
                          <p>{{item.event.shortDescription}}</p>
                        </div>
                      </div>
                    </div>
                    <div class="ui-lg-2">
                      <p-spinner [(ngModel)]="item.quantity" [size]="2" [min]="1" [max]="item.event.stock >= 30 ? 30 : item.event.stock" (onChange)="updateItem(item, item.quantity)"></p-spinner>
                      <button pButton type="button" (click)="deleteItem(item)" icon="fa-close" class="ui-button-warning"></button>
                      <div>
                        {{item.event.price * item.quantity}}€
                      </div>
                    </div>                    
                    </div>
                  </td>
                  <!-- <td></td>
                  <td></td>
                  <td></td>
                  <td></td> -->
              </tr>
          </ng-template>
        </p-table>
      </div>
    </div>
    <div class="ui-lg-2">
      <div class="ui-g">
        <div class="ui-md-4">
          <strong>TOTAL</strong>
        </div>
        <div class="ui-md-4 ui-md-offset-4">
          <strong id="cart-details-price">{{totalPrice}}€</strong>
        </div>
      </div>
      <div class="ui-lg-12">
        <div class="ui-g">
          <div class="ui-lg-1"></div>
          <div class="ui-lg-10">
              <button pButton type="button" (click)="validateCart()" icon="fa-shopping-basket" class="ui-button-warning" label="Valider le panier"></button>
          </div>
          <div class="ui-lg-1"></div>
        </div>
      </div>
    </div>
    <div class="ui-lg-2"></div>
  </div>
</div>
